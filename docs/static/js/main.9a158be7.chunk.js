(this.webpackJsonpcoinfox=this.webpackJsonpcoinfox||[]).push([[0],{322:function(e,t,a){e.exports=a(690)},328:function(e,t,a){},343:function(e,t){},344:function(e,t){},366:function(e,t){},368:function(e,t){},399:function(e,t){},401:function(e,t){},415:function(e,t){},417:function(e,t){},427:function(e,t){},438:function(e,t){},562:function(e,t){},689:function(e,t,a){},690:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(59),i=a.n(o),c=(a(328),a(131)),s=a(7),l=a(8),u=a(10),p=a(9),f=a(19),h=a(45),m=a(11),d=a(58),g=a.n(d),b=a(77),v=a.n(b),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"_chartOptions",value:function(){var e=[];for(var t in this.props.coinz){var a=this.props.coinz[t].hodl,n=Number(this.props.marketData[t].ticker.price)*this.props.exchangeRate;e.push({name:t.toUpperCase(),y:a*n/this.props.totalPortfolio.totalValue})}return{credits:!1,chart:{renderTo:"piechart",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",backgroundColor:"transparent"},title:{text:""},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",colors:function(){var e,t=[];for(e=0;e<10;e+=1)t.push(v.a.Color("#21ce99").brighten((e-3)/7).get());return t}(),dataLabels:{enabled:!0,format:"<b>{point.name}</b><br/>{point.percentage:.1f} %",style:{color:"white"}}}},series:[{colorByPoint:!0,data:e}]}}},{key:"componentDidMount",value:function(){this.chart=new v.a[this.props.type||"Chart"]("piechart",this._chartOptions())}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.destroy()}},{key:"render",value:function(){this.props.blockstack;return r.a.createElement("div",{className:"Pie"},r.a.createElement("div",{id:"piechart"}))}}]),a}(n.Component),y=a(16);function E(e){return{aud:"$",bgn:"\u043b\u0432",brl:"R$",btc:"\u0e3f",cad:"$",chf:"Fr.",cny:"\xa5",czk:"K\u010d",dkk:"kr",eur:"\u20ac",gbp:"\xa3",hkd:"$",hrk:"kn",huf:"Ft",idr:"Rp",ils:"\u20aa",inr:"\u20b9",jpy:"\xa5",krw:"\u20a9",mxn:"$",myr:"RM",nok:"kr",nzd:"$",php:"\u20b1",pln:"z\u0142",ron:"lei",rur:"\u20bd",sek:"kr",sgd:"$",thb:"\u0e3f",try:"\u20ba",uah:"\u20b4",usd:"$",zar:"R"}[e.toLowerCase()]+" "}function C(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var O=function(e,t){return e/t},x=a(17);function S(){var e=Object(y.a)(["\n  text-align: center;\n  margin-top: 30px;\n  h1 {\n    font-weight: 300;\n    font-size: 2.5rem;\n    color: white;\n    margin: 5px;\n  }\n  p {\n    margin-top: 5px;\n  }\n"]);return S=function(){return e},e}var N=x.a.div(S()),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.totalPortfolio.totalValue,t=this.props.totalPortfolio.totalBasis,a=e-t,n=O(e,t),o=E(this.props.currency);return e>0?r.a.createElement(N,null,r.a.createElement("h1",null,o,C(e.toFixed(2))),r.a.createElement("p",null,o,C(a.toFixed(2)),"\xa0 (",C(n.toFixed(2)),"x)")):null}}]),a}(n.Component),w=["en","de","fr"],z={en:"English",de:"Deutsch",fr:"Fran\xe7ais"},D="en";navigator.languages&&navigator.languages.some((function(e){return w.includes(e)&&(D=e),w.includes(e)}));var P={en:{avgcost:"Average Cost Basis ($/per coin)",addcoin:"Add a Coin",ticker:"Ticker: (BTC, LTC, etc)",numberheld:"Number of Coins Held",go:"Go",fillticker:"Please fill in the ticker, cost basis & holding",added:" added to your portfolio",remove:"Remove ",fromportfolio:" from your portfolio?",total:"Total ",holding:" Holding",volume:"24hr Volume",costbasis:"Cost Basis (avg)",coins:" Coins",currencypref:"Currency preference",languagepref:"Language preference",welcome:"Welcome to Coinfox",tag:"Your secure, personal blockchain portfolio manager app. Track your crypto currency portfolio performance",addfirstcoin:"Please add a coin to your portfolio first",importexport:"Import / Export Portfolio",copylink:"Copy the URL below to import your current portfolio to another device",getlink:"Get Link",learnmore:"Learn More",givefeedback:"Give Feedback",supportedcoins:"Supported Coins"},de:{avgcost:"Durchschnittliche Kostenbasis ($ / pro M\xfcnze)",addcoin:"Eine M\xfcnze hinzuf\xfcgen",ticker:"Ticker: (BTC, LTC, usw.)",numberheld:"Anzahl der gehaltenen M\xfcnzen",go:"Gehen",fillticker:"Bitte den Ticker ausf\xfcllen, Kostenbasis & halten",added:" ihrem Portfolio hinzugef\xfcgt",remove:"Entfernen ",fromportfolio:" aus Ihrem Portfolio?",total:"Insgesamt ",holding:" Halten",volume:"24hr Volumen",costbasis:"Kostenbasis (avg)",coins:" M\xfcnzen",currencypref:"M\xfcnzen",languagepref:"Spracheinstellung",welcome:"Willkommen bei Coinfox",tag:"Ihre sichere, pers\xf6nliche Blockchain Portfolio Manager App. Verfolgen Sie Ihre Crypto-W\xe4hrung Portfolio-Performance",addfirstcoin:"Bitte f\xfcge zuerst eine M\xfcnze zu deinem Portfolio hinzu",importexport:"Import / Export Portfolio",copylink:"Kopieren Sie die URL unten, um Ihr aktuelles Portfolio auf ein anderes Ger\xe4t zu importieren",getlink:"Link holen",learnmore:"Erfahren Sie mehr",givefeedback:"Vorschl\xe4ge machen",supportedcoins:"Unterst\xfctzte M\xfcnzen"},fr:{avgcost:"Co\xfbt moyen ($ / par pi\xe8ce)",addcoin:"Ajouter une pi\xe8ce",ticker:"Ticker: (BTC, LTC, etc)",numberheld:"Nombre de pi\xe8ces d\xe9tenues",go:"Aller",fillticker:"S'il vous pla\xeet remplir le ticker, la base des co\xfbts et la tenue",added:" ajout\xe9 \xe0 votre portefeuille",remove:"Supprimer ",fromportfolio:" de votre portefeuille?",total:"Total ",holding:" Holding",volume:"Volume 24hr",costbasis:"Base de Co\xfbt (moy)",coins:" Pi\xe8ces",currencypref:"Pr\xe9f\xe9rence de devise",languagepref:"Pr\xe9f\xe9rence de langue",welcome:"Bienvenue \xe0 Coinfox",tag:"Votre application de gestion de portefeuilles blockchain personnelle et s\xe9curis\xe9e. Suivez votre performance de portefeuille de devises crypto",addfirstcoin:"Veuillez d'abord ajouter une pi\xe8ce \xe0 votre portefeuille",importexport:"Import / Export Portfolio",copylink:"Copiez l'URL ci-dessous pour importer votre portefeuille actuel vers un autre appareil",getlink:"Obtenir un lien",learnmore:"En savoir plus",givefeedback:"Donner des suggestions",supportedcoins:"Pi\xe8ces prises en charge"}};function R(e){return e?P[e.toLowerCase()]:P[D]}var _=R(),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=!!this.props.coinz&&this.props.coinz,a=!!this.props.marketData&&this.props.marketData,n=E(this.props.currency),o=t&&a&&Object.keys(t).map((function(a,n){var r=e.props.marketData[a]&&e.props.marketData[a].ticker&&e.props.marketData[a].ticker.price||0,o=e.props.marketData[a]&&e.props.marketData[a].ticker?Number(r*e.props.exchangeRate):0;return{coin:a,price:o,coinRound:Math.round(100*t[a].hodl)/100,hodlValue:o*t[a].hodl}})).sort((function(e,t){return t.hodlValue-e.hodlValue}));return r.a.createElement("div",{className:"CoinList"},o&&o.map((function(e,a){var o=!e.price||e.price>=t[e.coin].cost_basis?"right green":"right red";return r.a.createElement(f.b,{className:"coinLink",key:a,to:"/coin/"+e.coin},r.a.createElement("div",{className:"listCoin"},r.a.createElement("span",{className:"left"},e.coin.toUpperCase(),r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},e.coinRound,_.coins)),r.a.createElement("span",{className:"middle"},r.a.createElement("i",{className:"lightGray fa fa-lg fa-info-circle","aria-hidden":"true"})),r.a.createElement("span",{className:o},n,C(e.hodlValue.toFixed(2)),r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},n,C(e.price.toFixed(2))))))})))}}]),a}(n.Component);function T(){var e=Object(y.a)(["\n  display: flex;\n  margin: auto 0px;\n  margin-left: auto;\n"]);return T=function(){return e},e}function I(){var e=Object(y.a)(["\ncolor: white;\n"]);return I=function(){return e},e}function L(){var e=Object(y.a)(["\n  display: flex;\n  margin: 10px auto;\n  padding: 0px 10px;\n  max-width: 1100px;\n"]);return L=function(){return e},e}var B=x.a.div(L()),G=x.a.h3(I()),F=x.a.div(T()),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSelectChange=function(t){t.target.id;var a=t.target.value;e.props.currency;e.props.saveNewPref("currency",a)},e}return Object(l.a)(a,[{key:"render",value:function(){E(this.props.currency);var e=this.props.supportedCurrencies.map((function(e){return r.a.createElement("option",{key:e[0],value:e[0].toUpperCase()},e[0].toUpperCase()," ",e[1])})),t=R(this.props.language);return r.a.createElement(B,null,r.a.createElement(G,null,t.currencypref),r.a.createElement(F,null,r.a.createElement("select",{id:"currency",onChange:this.handleSelectChange,value:this.props.currency,name:"select"},e)))}}]),a}(n.Component),V=a(320),A=a.n(V);a(686),a(687),a(688);function $(){var e=Object(y.a)(["\n  width: 100%;\n  font-family: Roboto, sans-serif;\n  font-weight: 100;\n  background-color: rgb(33, 206, 153);\n  color: white;\n  border: none;\n  font-size: 20px;\n  line-height: 20px;\n  margin: 5px 0px;\n  height: 36px;\n  box-sizing: border-box;\n  cursor: pointer;\n  ::after {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    box-shadow: 0px 0px 6px 2px #21ce99;\n    -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n  }\n  :hover::after {\n    opacity: 1;\n  }\n"]);return $=function(){return e},e}function H(){var e=Object(y.a)(["\n  width: 100%;\n  font-family: Roboto, sans-serif;\n  font-size: 16px;\n  margin: 5px 0px;\n  padding: 0px 10px;\n  height: 36px;\n  box-sizing: border-box;\n  ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n    color: #aaa;\n    opacity: 1; /* Firefox */\n}\n"]);return H=function(){return e},e}function J(){var e=Object(y.a)(["\n  color: black;\n  text-align: left;\n  & .Select-control {\n    border-radius: 0px;\n  }\n"]);return J=function(){return e},e}function W(){var e=Object(y.a)(["\n  margin: auto;\n"]);return W=function(){return e},e}function K(){var e=Object(y.a)(["\n  margin: 10px auto;\n  padding: 10px 10px;\n  max-width: 1100px;\n"]);return K=function(){return e},e}function X(){var e=Object(y.a)(["\n  color: white;\n"]);return X=function(){return e},e}var Y=x.a.h3(X()),Z=x.a.div(K()),Q=x.a.form(W()),q=Object(x.a)(A.a)(J()),ee=x.a.input(H()),te=x.a.button($()),ae=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addCoin=function(e){e.preventDefault();var t={ticker:n.state.selected_ticker.code.toLocaleLowerCase(),avg_cost:Number(n.state.avg_cost_basis),hodl:Number(n.state.hodl)};n.props.addCoinz(t),n.setState({ticker:"",avg_cost_basis:"",hodl:""})},n.onChange=function(e,t){var a=t.target.value;n.setState(Object(c.a)({},e,a))},n.handleTickerChange=function(e){n.setState({selected_ticker:e})},n.state={selected_ticker:"",avg_cost_basis:"",hodl:"",supported:[]},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;g()("https://www.cryptonator.com/api/currencies").then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(t){e.refs.addRef&&e.setState({options:t.rows})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected_ticker,n=t.options,o=R(this.props.language),i=o.avgcost;return r.a.createElement(Z,{ref:"addRef"},r.a.createElement(Y,null,o.addcoin),r.a.createElement(Q,{className:"",onSubmit:this.addCoin},r.a.createElement(q,{name:"form-select-ticker",placeholder:o.ticker,value:a,labelKey:"code",onChange:this.handleTickerChange,options:n}),r.a.createElement("br",null),r.a.createElement(ee,{type:"number",autoComplete:"off",spellCheck:"false",autoCorrect:"off",onChange:function(t){return e.onChange("avg_cost_basis",t)},value:this.state.avg_cost_basis,placeholder:i}),r.a.createElement("br",null),r.a.createElement(ee,{type:"number",autoComplete:"off",spellCheck:"false",autoCorrect:"off",onChange:function(t){return e.onChange("hodl",t)},value:this.state.hodl,placeholder:o.numberheld}),r.a.createElement("br",null),r.a.createElement(te,{type:"submit"},o.go)))}}]),a}(n.Component),ne=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleView=function(){e.setState({listView:!e.state.listView})},e.state={listView:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=Object.keys(this.props.coinz).length>0&&this.props.coinz,t=R(this.props.language);return e?r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"header"},r.a.createElement(f.b,{className:"menu",key:"Menu",to:"/menu"},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-bars","aria-hidden":"true"})),r.a.createElement(j,{totalPortfolio:this.props.totalPortfolio,currency:this.props.currency,exchangeRate:this.props.exchangeRate,marketData:this.props.marketData,coinz:this.props.coinz,key:"TotalPortfolio"})),r.a.createElement("div",{className:"toggleView"},r.a.createElement("i",{onClick:this.toggleView,className:this.state.listView?"fa fa-lg fa-pie-chart":"fa fa-lg fa-th-list","aria-hidden":"true"})),!this.state.listView&&r.a.createElement(k,{coinz:this.props.coinz,marketData:this.props.marketData,exchangeRate:this.props.exchangeRate,totalPortfolio:this.props.totalPortfolio}),this.state.listView&&r.a.createElement(U,{currency:this.props.currency,exchangeRate:this.props.exchangeRate,marketData:this.props.marketData,coinz:this.props.coinz,key:"CoinList"})):(console.log("!isUserSignedIn()"),r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"header"},r.a.createElement(f.b,{className:"menu",key:"Menu",to:"/menu"},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-bars","aria-hidden":"true"})),r.a.createElement("h1",{className:"center"},t.welcome),r.a.createElement("p",{className:"center"},t.tag)),r.a.createElement("div",{className:"addFirstCoin"},r.a.createElement(M,{supportedCurrencies:this.props.supportedCurrencies,saveNewPref:this.props.saveNewPref,language:this.props.language,currency:this.props.currency}),r.a.createElement(ae,{addCoinz:this.props.addCoinz,language:this.props.language,key:"AddCoin"}))))}}]),a}(n.Component),re=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={ticker:null,chart:{Response:"no",Data:[]},time_series:[]},n}return Object(l.a)(a,[{key:"_chartOptions",value:function(e){var t=this.props.chartColor;return{credits:!1,chart:{height:"200px",zoomType:"x",backgroundColor:"#303032"},title:{text:""},subtitle:{text:""},xAxis:{lineColor:"#777",tickColor:"#777",gridLineColor:"#777",type:"datetime",labels:{style:{color:"#777"}}},yAxis:{min:0,gridLineColor:"#777",title:{text:""},labels:{style:{color:"#777"}}},legend:{enabled:!1},plotOptions:{area:{color:t,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t],[1,v.a.Color(t).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:2,states:{hover:{lineWidth:3}},threshold:null}},series:[{type:"area",name:this.props.ticker+"/$",data:e}]}}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.destroy()}},{key:"_fetchChartData",value:function(e,t){var a=this,n=e.toUpperCase();fetch("https://min-api.cryptocompare.com/data/histoday?aggregate=1&e=CCCAGG&extraParams=CryptoCompare&fsym="+n+"&limit=365&tryConversion=false&tsym=USD").then((function(e){return e.json()})).then((function(e){if("Success"===e.Response){var r=e.Data.map((function(e){return[1e3*e.time,e.close*t]})),o={ticker:n,chart:e,time_series:r};a.chart=new v.a.Chart("chart_container",a._chartOptions(r)),a.setState(o)}else a.setState({time_series:[]}),a.chart&&a.chart.destroy()}))}},{key:"componentDidMount",value:function(){this._fetchChartData(this.props.ticker,this.props.exchangeRate)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"chart_container"}))}}]),a}(n.Component),oe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=R(this.props.language);if(window.scrollTo(0,0),!this.props.marketData)return null;var a=E(this.props.currency),n=this.props.blockstack?"/blockstack":"/",o=this.props.match.params[0]||"X",i=Object.keys(this.props.coinz).length>0&&this.props.coinz,c=!(!i||!o)&&i[o],s=this.props.exchangeRate,l=!!this.props.marketData&&this.props.marketData,u=l[o]&&l[o].ticker?Number(l[o].ticker.price)*s:0,p=c&&Number(c.hodl),h=c&&Number(c.cost_basis),m=h*p,d=p*u,g=Boolean(l[o]&&l[o].ticker)&&l[o].ticker.volume*u,b=!u||u>=h?"#21ce99":"#d82d2d",v={backgroundColor:b},k=["BTC","ETH","XMR","ZEC","DASH","XRP","LTC","DOGE","BCH","BTG","DGB","EXP","GAME","LSK","NLG","NXT","POT","QTUM","SYS","XDN","XVG"],y="https://changelly.com/widget/v1?auth=email&",x="&merchant_id=db206cefa712&address=&amount=1&ref_id=db206cefa712&color="+b.replace("#",""),S=y+"from=BTC&to="+o.toUpperCase()+x,N=y+"from="+o.toUpperCase()+"&to=BTC"+x;return r.a.createElement("div",{className:"Coin"},r.a.createElement(f.b,{className:"menu",key:"Menu",to:"/menu"},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-bars","aria-hidden":"true"})),r.a.createElement(f.b,{className:"coinClose",to:n},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-times","aria-hidden":"true"})),r.a.createElement("div",{className:"coinCard"},r.a.createElement("h2",null,o.toUpperCase()),r.a.createElement("h1",null,a,C(u.toFixed(2))),r.a.createElement("p",null,O(d,m).toFixed(2),"x"),r.a.createElement("div",{className:"theChart"},r.a.createElement(re,{chartColor:b,exchangeRate:this.props.exchangeRate,ticker:o})),k.includes(o.toUpperCase())&&r.a.createElement("div",{className:"listCoin"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:S},r.a.createElement("button",{className:"btn-buy",style:v},r.a.createElement("i",{className:"fa fa-money","aria-hidden":"true"})," Buy")),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:N},r.a.createElement("button",{className:"btn-buy",style:v},r.a.createElement("i",{className:"fa fa-line-chart","aria-hidden":"true"})," Sell"))),!k.includes(o.toUpperCase())&&r.a.createElement("div",{className:"listCoin"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://changelly.com/widget/v1?auth=email&from=ETH&to=BTC&merchant_id=db206cefa712&address=&amount=1&ref_id=db206cefa712&color="+b.replace("#","")},r.a.createElement("button",{className:"btn-buy",style:v},r.a.createElement("i",{className:"fa fa-line-chart","aria-hidden":"true"})," Trade Coins"))),r.a.createElement("div",{className:"listCoin"},r.a.createElement("span",{className:"left"},p,r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},o.toUpperCase()+" Holding")),r.a.createElement("span",{className:"right"},a,C(d.toFixed(2)),r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},t.total+a+t.holding))),r.a.createElement("div",{className:"listCoin"},r.a.createElement("span",{className:"left"},a,g&&C(g.toFixed()),r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},t.volume)),r.a.createElement("span",{className:"right"},a,C(m.toFixed(2)),"\xa0",r.a.createElement("span",{className:"lightGray"},"(",C(h.toFixed(2)),")"),r.a.createElement("br",null),r.a.createElement("span",{className:"lightGray"},t.costbasis))),r.a.createElement("div",{className:"trash listCoin"},r.a.createElement("span",{className:"left"}),r.a.createElement("span",{className:"right"},r.a.createElement("span",{onClick:function(){return e.props.deleteCoin(o,e.props.history)},className:"lightGray"},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))))}}]),a}(n.Component);function ie(){var e=Object(y.a)(["\n  display: flex;\n  margin: auto 0px;\n  margin-left: auto;\n"]);return ie=function(){return e},e}function ce(){var e=Object(y.a)(["\ncolor: white;\n"]);return ce=function(){return e},e}function se(){var e=Object(y.a)(["\n  display: flex;\n  margin: 10px auto;\n  padding: 0px 10px;\n  max-width: 1100px;\n"]);return se=function(){return e},e}var le=x.a.div(se()),ue=x.a.h3(ce()),pe=x.a.div(ie()),fe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSelectChange=function(t){t.target.id;var a=t.target.value;e.props.language;e.props.saveNewPref("language",a)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=w.map((function(e){return r.a.createElement("option",{key:e,value:e.toUpperCase()},z[e])})),t=R(this.props.language);return r.a.createElement(le,null,r.a.createElement(ue,null,t.languagepref),r.a.createElement(pe,null,r.a.createElement("select",{id:"language",onChange:this.handleSelectChange,value:this.props.language||"",name:"select"},e)))}}]),a}(n.Component),he=a(57),me=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={importUrl:!1},e._getLink=e._getLink.bind(Object(he.a)(e)),e}return Object(l.a)(a,[{key:"_getLink",value:function(){if(localStorage.coinz){var e=btoa(JSON.stringify(localStorage));this.setState({importUrl:window.location.origin+"?import="+e})}else alert(R.addfirstcoin)}},{key:"render",value:function(){var e=R(this.props.language);return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",{className:"white center"},e.importexport),r.a.createElement("p",{className:"white center"},e.copylink),this.state.importUrl?r.a.createElement("p",{className:"center"},r.a.createElement("input",{type:"text",defaultValue:this.state.importUrl})):r.a.createElement("p",{className:"center"},r.a.createElement("button",{className:"btn",onClick:this._getLink},e.getlink)))}}]),a}(n.Component),de=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.blockstack?"/blockstack":"/",t=this.props.pref.currency?this.props.pref.currency:"...",a=this.props.pref.language?this.props.pref.language:null,n=R(this.props.language);return r.a.createElement("div",{className:"theMenu"},r.a.createElement(f.b,{className:"menu",key:"nav",to:e},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-times","aria-hidden":"true"})),r.a.createElement(M,{supportedCurrencies:this.props.supportedCurrencies,saveNewPref:this.props.saveNewPref,language:a,currency:t,key:"CurrencyPref"}),r.a.createElement(fe,{saveNewPref:this.props.saveNewPref,language:a,key:"LanguagePref"}),r.a.createElement(ae,{language:a,addCoinz:this.props.addCoinz,key:"AddCoin"}),r.a.createElement(me,{language:a}),r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("p",{className:"center"},r.a.createElement("a",{href:"https://github.com/vinniejames/coinfox"},n.learnmore)," or\xa0",r.a.createElement("a",{href:"https://github.com/vinniejames/coinfox/issues"},n.givefeedback))))}}]),a}(n.Component);function ge(){var e=Object(y.a)(["\n  border-bottom: 1px solid hsla(0,0%,100%,.1);\n  color: white;\n  padding: 10px 0;\n"]);return ge=function(){return e},e}function be(){var e=Object(y.a)(["\n  background: #303032;\n  margin-top: 0px;\n  list-style: none;\n  padding: 65px 20px 0px 20px;\n"]);return be=function(){return e},e}var ve=x.a.ul(be()),ke=x.a.li(ge()),ye=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={supported:[]},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;console.log("hi im here"),g()("https://www.cryptonator.com/api/currencies").then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(t){e.setState({supported:t.rows})}))}},{key:"render",value:function(){return console.log(this.state.supported,"where coisn"),r.a.createElement("div",{className:"SupportedCoins"},r.a.createElement("div",{id:"topMenu"},r.a.createElement(f.b,{className:"menu",key:"nav",to:"/menu"},r.a.createElement("i",{className:"btn-menu fa fa-lg fa-times","aria-hidden":"true"}))),r.a.createElement("div",null,r.a.createElement(ve,null,this.state.supported.map((function(e){return r.a.createElement(ke,null,e.name," (",e.code,")")})))))}}]),a}(n.Component),Ee=(a(689),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.handleSignIn;return r.a.createElement("div",{className:"block-login"},r.a.createElement("h1",null,"Coinfox"),r.a.createElement("p",null,"A decentralized portfolio tracker built on ",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://blockstack.org/"},"Blockstack")),r.a.createElement("p",null,r.a.createElement("button",{className:"btn",id:"login",onClick:e.bind(this)},r.a.createElement("i",{className:"fa fa-lg fa-user-circle","aria-hidden":"true"})," Sign In With Blockstack")))}}]),a}(n.Component)),Ce=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={person:{name:function(){return"Anon"}}},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({person:new m.Person(Object(m.loadUserData)().profile)})}},{key:"render",value:function(){var e=this.props.handleSignOut,t=this.state.person;return Object(m.isSignInPending)()?null:r.a.createElement("div",{className:"Profile"},r.a.createElement("span",{id:"logout"},t.name()?t.name():"Natoshi Sockamoto"," \xa0",r.a.createElement("i",{onClick:e.bind(this),className:"fa fa-sign-out","aria-hidden":"true"})))}}]),a}(n.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._handleSignIn=n._handleSignIn.bind(Object(he.a)(n)),n._handleSignOut=n._handleSignOut.bind(Object(he.a)(n)),n.state={blockurl:window.location.origin+"/blockstack",manifest:window.location.origin+"/manifest.json"},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;Object(m.isSignInPending)()&&Object(m.handlePendingSignIn)().then((function(t){window.location=e.state.blockurl}))}},{key:"_handleSignIn",value:function(e){e.preventDefault(),Object(m.redirectToSignIn)(this.state.blockurl,this.state.manifest)}},{key:"_handleSignOut",value:function(e){e.preventDefault(),Object(m.signUserOut)(this.state.blockurl),localStorage.setItem("blockstack-transit-private-key",!1)}},{key:"render",value:function(){return n.createElement("div",{className:"Blockstack"},Object(m.isUserSignedIn)()?[n.createElement(Ce,{key:"Profile",handleSignOut:this._handleSignOut}),n.createElement(ne,Object.assign({supportedCurrencies:this.props.supportedCurrencies,exchangeRate:this.props.exchangeRate,key:"Home"},this.props))]:n.createElement(Ee,{handleSignIn:this._handleSignIn}))}}]),a}(n.Component),xe=R(),Se=[["AUD","$"],["BGN","\u043b\u0432"],["BRL","R$"],["CAD","$"],["CHF","Fr."],["CNY","\xa5"],["CZK","K\u010d"],["DKK","kr"],["EUR","\u20ac"],["GBP","\xa3"],["HKD","$"],["HRK","kn"],["HUF","Ft"],["IDR","Rp"],["ILS","\u20aa"],["INR","\u20b9"],["JPY","\xa5"],["KRW","\u20a9"],["MXN","$"],["MYR","RM"],["NOK","kr"],["NZD","$"],["PHP","\u20b1"],["PLN","z\u0142"],["RON","lei"],["SEK","kr"],["SGD","$"],["THB","\u0e3f"],["TRY","\u20ba"],["USD","$"],["ZAR","R"]],Ne=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).saveCoinToStorage=function(t,a){var n=e.readLocalStorage();if(n.coinz[t]){var r=e.addExistingCoin(n,t,a);localStorage.setItem("coinz",JSON.stringify(r)),e.setState({coinz:r})}else{n.coinz[t]=a;var o=n.coinz;localStorage.setItem("coinz",JSON.stringify(o)),e.marketData(o),e.setState({coinz:o})}},e.saveCoinToGaia=function(t,a){Object(m.getFile)(e.state.gaiaStorage,!0).then((function(e){var t=JSON.parse(e);return{coinz:t.coinz&&t.coinz||{},pref:t.pref&&t.pref||{currency:"USD"}}})).then((function(n){console.log(n.coinz,n.pref,"for gaia to save");if(n.coinz[t]){var r=e.addExistingCoin(n,t,a),o={coinz:r,pref:n.pref};Object(m.putFile)(e.state.gaiaStorage,JSON.stringify(o),!0).then((function(){e.marketData(r)})).then((function(){e.setState({coinz:r,pref:n.pref})})).catch((function(e){console.log(e,"Gaia put exception")}))}else{n.coinz[t]=a;var i=n.coinz,c={coinz:i,pref:n.pref};Object(m.putFile)(e.state.gaiaStorage,JSON.stringify(c),!0).then((function(){e.marketData(i)})).then((function(){e.setState({coinz:i,pref:n.pref})})).catch((function(e){console.log(e,"Gaia put exception")}))}}))},e.addCoinz=function(t){var a=t.ticker,n=t.avg_cost,r=t.hodl;if(a&&n&&r){var o={cost_basis:n,hodl:r};Object(m.isUserSignedIn)()?e.saveCoinToGaia(a,o):e.saveCoinToStorage(a,o),alert(a.toUpperCase()+xe.added)}else alert(xe.fillticker)},e.fetchThen=function(e){return new Promise((function(t,a){g()(e,{retries:3,retryDelay:1e3}).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){console.log(e),a()}))}))},e.marketData=function(t){var a={},n=function(t){var n="https://api.cryptonator.com/api/ticker/"+t.toLowerCase()+"-usd";e.fetchThen(n).then((function(n){a[t]=n,e.setState({marketData:a})}))};for(var r in t)n(r)},e.fetchExchangeRates=function(){var t="https://api.fixer.io/latest?base=USD&symbols="+e.state.supportedCurrencies.map((function(e){return e[0]})).toString();return g()(t).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(t){t.rates.USD=1,e.setState({exchangeRates:t.rates})}))},e.totalPortfolio=function(t){var a=!!e.state.coinz&&e.state.coinz,n=!!e.state.marketData&&e.state.marketData,r=0,o=0;for(var i in a){var c=a[i].cost_basis,s=a[i].hodl,l=c*s;if(n[i])r+=(n[i]&&n[i].ticker&&n[i].ticker.price?Number(n[i].ticker.price):0)*t*s;o+=l}return{totalValue:r,totalBasis:o}},e.redirectToHttps=function(){var e=Boolean(localStorage.coinz),t="https:"==window.location.protocol;if("true"===localStorage.https||!e&&!t)window.location.protocol="https:";else if(e&&!t){console.log("redirect to https with coin string");var a=btoa(JSON.stringify(localStorage));localStorage.setItem("https","true"),window.location.href="https://coinfox.co?import="+a}},e.saveNewPref=function(t,a){if(Object(m.isUserSignedIn)()){var n={coinz:e.state.coinz,pref:Object(c.a)({},t,a)};e.setState({pref:n.pref}),Object(m.putFile)(e.state.gaiaStorage,JSON.stringify(n),!0).catch((function(e){console.log(e,"Gaia put exception")}))}else{var r=JSON.parse(localStorage.getItem("pref"))||{};r[t]=a,localStorage.setItem("pref",JSON.stringify(r)),e.setState({pref:r})}},e.deleteCoin=function(t,a){if(!0===window.confirm(xe.remove+t.toUpperCase()+xe.fromportfolio)){var n=e.state.coinz;if(Object.assign({},n),delete n[t],Object(m.isUserSignedIn)()){var r={coinz:n,pref:e.state.pref};Object(m.putFile)(e.state.gaiaStorage,JSON.stringify(r),!0).then((function(){e.setState({coinz:n})})).catch((function(e){console.log(e,"Gaia put exception")}))}else localStorage.setItem("coinz",JSON.stringify(n));a.goBack()}},e.state={coinz:{},pref:{},marketData:!1,exchangeRates:{USD:1},blockstack:Object(m.isUserSignedIn)(),gaiaStorage:"coinfox.json",supportedCurrencies:Se},e}return Object(l.a)(a,[{key:"addExistingCoin",value:function(e,t,a){var n=e.coinz[t].cost_basis,r=e.coinz[t].hodl,o=a.cost_basis,i=a.hodl,c=i+r,s=(o*i+n*r)/c;return e.coinz[t]={cost_basis:s,hodl:c},e.coinz}},{key:"readLocalStorage",value:function(){return{coinz:localStorage.coinz?JSON.parse(localStorage.coinz):{},pref:localStorage.pref?JSON.parse(localStorage.pref):{currency:"USD"}}}},{key:"componentDidMount",value:function(){var e=this;window.location.origin.includes("localhost")||this.redirectToHttps();var t=new URLSearchParams(window.location.search);if(t.has("import")){var a=JSON.parse(atob(t.get("import")));t.get("import")==localStorage.getItem("lastImport")?(console.log("already imported this portfolio"),window.location.search="x"):(a.pref&&localStorage.setItem("pref",a.pref),a.coinz&&localStorage.setItem("coinz",a.coinz),localStorage.setItem("lastImport",t.get("import")),window.location.search="")}if(Object(m.isUserSignedIn)()&&"/blockstack"==window.location.pathname){Object(m.getFile)(this.state.gaiaStorage,!0).then((function(e){console.log("gimme gaia",e);var t=JSON.parse(e);return{coinz:t.coinz&&t.coinz||{},pref:t.pref&&t.pref||{currency:"USD"}}})).then((function(t){e.setState(t)})).then((function(){e.marketData(e.state.coinz)})).then((function(){e.fetchExchangeRates()})).catch((function(t){console.log(t,"Gaia get exception");var a={coinz:e.state.coinz,pref:{currency:"USD"}};Object(m.putFile)(e.state.gaiaStorage,JSON.stringify(a),!0).then((function(){window.location.reload()})).catch((function(e){console.log(e,"Gaia put exception")}))}))}else{var n=this.readLocalStorage();this.marketData(n.coinz),this.setState({coinz:n.coinz,pref:n.pref}),this.fetchExchangeRates()}}},{key:"render",value:function(){var e=this,t=this.state.exchangeRates[this.state.pref.currency]?this.state.exchangeRates[this.state.pref.currency]:1,a=this.totalPortfolio(t);return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(h.b,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(n){return r.a.createElement(ne,Object.assign({},n,{coinz:e.state.coinz,marketData:e.state.marketData,exchangeRate:t,supportedCurrencies:e.state.supportedCurrencies,totalPortfolio:a,currency:e.state.pref&&e.state.pref.currency||"USD",language:e.state.pref&&e.state.pref.language||"EN",addCoinz:e.addCoinz,saveNewPref:e.saveNewPref}))}}),r.a.createElement(h.a,{exact:!0,path:"/blockstack",render:function(a){return r.a.createElement(Oe,Object.assign({},a,{coinz:e.state.coinz,marketData:e.state.marketData,exchangeRate:t,supportedCurrencies:e.state.supportedCurrencies,currency:e.state.pref&&e.state.pref.currency||"USD",language:e.state.pref&&e.state.pref.language||"EN",addCoinz:e.addCoinz,saveNewPref:e.saveNewPref}))}}),r.a.createElement(h.a,{path:"/coin/*",render:function(a){return r.a.createElement(oe,Object.assign({},a,{coinz:e.state.coinz,marketData:e.state.marketData,blockstack:e.state.blockstack,exchangeRate:t,deleteCoin:e.deleteCoin,currency:e.state.pref&&e.state.pref.currency||"USD",language:e.state.pref&&e.state.pref.language||"EN"}))}}),r.a.createElement(h.a,{path:"/pie",render:function(n){return r.a.createElement(k,Object.assign({},n,{coinz:e.state.coinz,marketData:e.state.marketData,exchangeRate:t,totalPortfolio:a,language:e.state.pref&&e.state.pref.language||"EN"}))}}),r.a.createElement(h.a,{path:"/menu",render:function(t){return r.a.createElement(de,Object.assign({},t,{addCoinz:e.addCoinz,blockstack:e.state.blockstack,pref:e.state.pref,saveNewPref:e.saveNewPref,supportedCurrencies:e.state.supportedCurrencies,currency:e.state.pref&&e.state.pref.currency||"USD",language:e.state.pref&&e.state.pref.language||"EN"}))}}),r.a.createElement(h.a,{path:"/supportedcoins",component:ye}))))}}]),a}(n.Component),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Ne,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");je?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):we(e)}))}}()}},[[322,1,2]]]);
//# sourceMappingURL=main.9a158be7.chunk.js.map